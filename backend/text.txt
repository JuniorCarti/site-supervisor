http://127.0.0.1:5000/api/auth/register
{
  "name": "Joy Mutanu",
  "email": "joy@example.com",
  "password": "mypassword",
  "role": "admin"
}

POST â†’ http://127.0.0.1:5000/api/auth/login
{
  "email": "joy@example.com",
  "password": "mypassword"
}

GET â†’ http://127.0.0.1:5000/api/auth/profile
Header:
Authorization: Bearer <JWT_TOKEN>

Maintenance Routes
POST /api/maintenance/report â†’ driver submits maintenance issue.
GET /api/maintenance â†’ manager views all reports.
PATCH /api/maintenance/<id> â†’ update status (â€œpendingâ€, â€œin-progressâ€, â€œcompletedâ€).

Supplier Routes
POST /api/suppliers â†’ add new supplier.
GET /api/suppliers â†’ list suppliers.
PATCH /api/suppliers/<id> â†’ update rating or bid.
GET /api/suppliers/lowest-bid â†’ simulate best offer selection.

Finance Routes
POST /api/finance/invoices â†’ create invoice.
GET /api/finance/invoices â†’ view all invoices.
PATCH /api/finance/invoices/<id> â†’ approve or reject.
Add auto-approval logic (e.g., < $500 auto-approve).

Project Routes
POST /api/projects â†’ create project.
GET /api/projects â†’ list all projects.
PATCH /api/projects/<id> â†’ update status or forecast.

ğŸ”¹ Sentinel Agent
POST â†’ /api/ai/sentinel
{
  "temperature": 92,
  "oil_pressure": 25,
  "vibration": 4.8
}

ğŸ”¹ Quartermaster Agent
GET â†’ /api/ai/quartermaster

ğŸ”¹ Chancellor Agent
GET â†’ /api/ai/chancellor

ğŸ”¹ Foreman Agent
GET â†’ /api/ai/foreman

POST /api/notify/test
{
  "channel": "email",
  "recipient": "admin@example.com",
  "subject": "System Test",
  "message": "This is only a test notification."
}

POST /api/automation/test
{
  "event": "test_trigger",
  "payload": {"message": "Automation connected successfully"}
}

GET /api/analytics/overview


role based access

| Area                         | Access          | Decorator                                      |
| ---------------------------- | --------------- | ---------------------------------------------- |
| Register users               | Admin only      | `@role_required("admin")`                      |
| Maintenance report           | All users       | `@role_required("driver", "manager", "admin")` |
| Finance / Project management | Manager + Admin | `@role_required("manager", "admin")`           |
| Analytics                    | Manager + Admin | `@role_required("manager", "admin")`           |



ğŸ§© SiteSupervisor Role-Based Access Matrix
Module / Feature	Endpoint / Functionality	Admin	Manager	Driver	Notes / Purpose
ğŸ” Authentication	/api/auth/register	âœ…	âŒ	âŒ	Only Admin can register new users and assign roles
	/api/auth/login	âœ…	âœ…	âœ…	All roles can log in
	/api/auth/profile	âœ…	âœ…	âœ…	All roles can view their own profile

| ğŸ§° Maintenance Management | /api/maintenance (POST) | âœ… | âœ… | âœ… | Drivers report issues, managers/admins can too |
| | /api/maintenance (GET) | âœ… | âœ… | âœ… | Everyone can view maintenance logs |
| | /api/maintenance/<id> (PATCH) | âœ… | âœ… | âŒ | Only Admin & Manager can update maintenance records |
| | /api/maintenance/<id> (DELETE) | âœ… | âœ… | âŒ | Only Admin & Manager can delete maintenance records |

| ğŸ§¾ Supplier Management | /api/suppliers (POST) | âœ… | âœ… | âŒ | Managers/Admins can add suppliers |
| | /api/suppliers (GET) | âœ… | âœ… | âœ… | All users can view suppliers |
| | /api/suppliers/<id> (PATCH) | âœ… | âœ… | âŒ | Managers/Admins update supplier rating or bids |
| | /api/suppliers/<id> (DELETE) | âœ… | âœ… | âŒ | Managers/Admins remove suppliers |

| ğŸ’° Finance (Invoices) | /api/finance/invoices (POST) | âœ… | âœ… | âŒ | Only Managers/Admins create invoices |
| | /api/finance/invoices (GET) | âœ… | âœ… | âœ… | All roles can view invoices |
| | /api/finance/invoices/<id> (PATCH) | âœ… | âœ… | âŒ | Managers/Admins approve/reject invoices |
| | /api/finance/invoices/<id> (DELETE) | âœ… | âœ… | âŒ | Managers/Admins can delete invoices |

| ğŸ— Project Management | /api/projects (POST) | âœ… | âœ… | âŒ | Managers/Admins create projects |
| | /api/projects (GET) | âœ… | âœ… | âœ… | All users can view project summaries |
| | /api/projects/<id> (PATCH) | âœ… | âœ… | âŒ | Managers/Admins update project status |
| | /api/projects/<id> (DELETE) | âœ… | âœ… | âŒ | Managers/Admins can delete projects |

| ğŸ¤– AI Agent Simulations | /api/ai/sentinel | âœ… | âœ… | âœ… | Accessible to all roles for simulation |
| | /api/ai/quartermaster | âœ… | âœ… | âœ… | Supplier optimization view |
| | /api/ai/chancellor | âœ… | âœ… | âœ… | Finance AI overview |
| | /api/ai/foreman | âœ… | âœ… | âœ… | Project forecasting simulation |

| ğŸ“Š Analytics & Insights | /api/analytics/overview | âœ… | âœ… | âŒ | Admin/Manager access only (dashboard metrics) |

| ğŸ§  Automation & Notifications | /api/automation/test, /api/notify/test | âœ… | âœ… | âœ… | Test endpoints open for all (can restrict later) |

| ğŸŒ System & Misc | / | âœ… | âœ… | âœ… | Root test endpoint for all users |